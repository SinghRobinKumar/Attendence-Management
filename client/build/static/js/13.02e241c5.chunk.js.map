{"version":3,"sources":["app/charts/components/SelectComponent.js","app/charts/charts/PieChart.js","app/charts/GetMappedData.js","app/charts/Visual.js","app/charts/VisualContainer.js","api/api.js"],"names":["SelectComponent","props","semesterData","className","Dropdown","Toggle","variant","id","Menu","data","map","week","Item","key","_id","onClick","getWeekData","WeekData","Week","w","push","getSemester","PieChartComponent","state","present","absent","COLORS","CustomTooltip","active","payload","label","style","backgroundColor","padding","border","name","value","pieData","marginTop","PieChart","width","height","Pie","this","color","dataKey","nameKey","cx","cy","outerRadius","fill","entry","index","Cell","length","Tooltip","content","Legend","React","Component","GetMappedData","records","record","getPercentage","parseFloat","toFixed","Visual","percentage","apiCall","a","VisualContainer","subjectData","weekData","weekName","api","get","params","result","setState","attendence","fetchExactData","SemesterName","match","semname","Subjects","d","SubjectName","subname","Subject","getDataFromComponent","axios","create","baseURL"],"mappings":"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","file":"static/js/13.02e241c5.chunk.js","sourcesContent":["import React from \"react\";\nimport { Dropdown } from \"react-bootstrap\";\n\nconst SelectComponent = (props) => {\n  let month = 0;\n\n  let month1 = [];\n  let month2 = [];\n\n  let semesterData = [];\n  let semesterDataFull = [];\n\n  const dropdownItems = (data) => {\n    return data.map((week) => {\n      return (\n        <Dropdown.Item\n          key={week._id}\n          onClick={() => props.getWeekData(week.WeekData, week.Week)}\n        >\n          {week.Week}\n        </Dropdown.Item>\n      );\n    });\n  };\n\n  const getMonth = (data) => {\n    return data.map((m) => {\n      month = month + 1;\n      // if (month == 4) {\n      //   return (\n      //     <Dropdown.Item\n      //       key={m._id}\n      //       onClick={() => props.getWeekData(m.WeekData, m.Week)}\n      //     >\n      //       m.week\n      //     </Dropdown.Item>\n      //   );\n      // } else {\n      // month1.push(m.WeekData);\n      // console.log(m.WeekData);\n      // }\n    });\n  };\n  // console.log(month1);\n\n  const getSemester = (data) => {\n    data.map((week) => {\n      week.WeekData.map((w) => {\n        semesterData.push(w);\n      });\n    });\n    props.getWeekData(semesterData, \"Semester\");\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-6\">\n        <Dropdown>\n          <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n            Weeks\n          </Dropdown.Toggle>\n\n          <Dropdown.Menu>{dropdownItems(props.data)}</Dropdown.Menu>\n        </Dropdown>\n      </div>\n      {/* <div className=\"col-4\">\n        <Dropdown>\n          <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n            Month\n          </Dropdown.Toggle>\n\n          <Dropdown.Menu>{getMonth(props.data)}</Dropdown.Menu>\n        </Dropdown>\n      </div> */}\n      <div className=\"col-6\">\n        <button\n          className=\"btn btn-primary\"\n          onClick={() => getSemester(props.data)}\n        >\n          Semester\n        </button>\n      </div>\n    </div>\n  );\n};\nexport default SelectComponent;\n","import React from \"react\";\n\nimport { PieChart, Pie, Cell, Tooltip, Legend } from \"recharts\";\n\nclass PieChartComponent extends React.Component {\n  state = { present: [], absent: 0.0 };\n\n  COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#AF19FF\"];\n\n  CustomTooltip = ({ active, payload, label }) => {\n    if (active) {\n      return (\n        <div\n          className=\"custom-tooltip\"\n          style={{\n            backgroundColor: \"#ffff\",\n            padding: \"5px\",\n            border: \"1px solid #cccc\",\n          }}\n        >\n          <label>{`${payload[0].name} : ${payload[0].value}%`}</label>\n        </div>\n      );\n    }\n\n    return null;\n  };\n\n  pieData = () => {\n    return [\n      {\n        name: \"Present\",\n        value: this.props.pieData.present,\n      },\n      {\n        name: \"Absent\",\n        value: this.props.pieData.absent,\n      },\n    ];\n  };\n\n  render() {\n    return (\n      <div\n        className=\"ui grid center container aligned grid\"\n        style={{ marginTop: \"50px\" }}\n      >\n        <PieChart width={730} height={300}>\n          <Pie\n            data={this.pieData()}\n            color=\"#000000\"\n            dataKey=\"value\"\n            nameKey=\"name\"\n            cx=\"50%\"\n            cy=\"50%\"\n            outerRadius={120}\n            fill=\"#8884d8\"\n          >\n            {this.pieData().map((entry, index) => (\n              <Cell\n                key={`cell-${index}`}\n                fill={this.COLORS[index % this.COLORS.length]}\n              />\n            ))}\n          </Pie>\n          <Tooltip content={<this.CustomTooltip />} />\n          <Legend />\n        </PieChart>\n      </div>\n    );\n  }\n}\n\nexport default PieChartComponent;\n","import React from \"react\";\n\nimport PieChartComponent from \"./charts/PieChart\";\n\nconst GetMappedData = (props) => {\n  if (!props.records) {\n    return <div>Loading...</div>;\n  }\n  let present = 0;\n  let absent = 0;\n  props.records.map((record) => {\n    if (record.present === true) {\n      present = present + 1;\n    } else {\n      absent = absent + 1;\n    }\n    return 1;\n  });\n  const getPercentage = (value, length) => {\n    const percentage = (value / length) * 100;\n    return parseFloat(percentage).toFixed(2);\n  };\n\n  const data = {\n    present: parseFloat(getPercentage(present, props.records.length)),\n    absent: parseFloat(getPercentage(absent, props.records.length)),\n  };\n\n  if (!data) {\n    return <div>No data</div>;\n  }\n\n  return (\n    <div>\n      <PieChartComponent pieData={data} />\n    </div>\n  );\n};\n\nexport default GetMappedData;\n","import React from \"react\";\n\nimport GetMappedData from \"./GetMappedData\";\n\nclass Visual extends React.Component {\n  state = {\n    data: [],\n    percentage: {},\n  };\n\n  percentage = { present: 0, absent: 0 };\n\n  apiCall = async () => {\n    await this.props.records;\n  };\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.records !== state.records) {\n      return {\n        data: props.records,\n      };\n    }\n    return null;\n  }\n\n  render() {\n    if (!this.props.records) {\n      return <div>No Records</div>;\n    }\n\n    return (\n      <div>\n        <h3>{this.props.week}</h3>\n        <GetMappedData records={this.state.data} />\n      </div>\n    );\n  }\n}\n\nexport default Visual;\n","import React from \"react\";\nimport api from \"../../api/api\";\nimport SelectComponent from \"./components/SelectComponent\";\nimport Visual from \"./Visual\";\n\nclass VisualContainer extends React.Component {\n  state = {\n    data: [],\n    subjectData: [],\n    weekData: [],\n    weekName: \"\",\n    present: 0,\n    absent: 0,\n  };\n\n  apiCall = async (id) => {\n    const result = await api.get(\"/single\", {\n      params: {\n        id: id,\n      },\n    });\n\n    this.setState({ data: result.data.attendence });\n    this.fetchExactData(this.state.data);\n  };\n\n  fetchExactData = (data) => {\n    data.map((record) => {\n      if (record.SemesterName === this.props.match.params.semname) {\n        record.Subjects.map((d) => {\n          if (d.SubjectName === this.props.match.params.subname) {\n            this.setState({ subjectData: d.Subject });\n\n            // Defaulting the pieChart to First Result\n            this.setState({\n              weekData: d.Subject[0].WeekData,\n              weekName: d.Subject[0].Week,\n            });\n          }\n        });\n      }\n    });\n  };\n\n  componentDidMount() {\n    this.apiCall(this.props.match.params.id);\n  }\n\n  getDataFromComponent = (data, weekName) => {\n    this.setState({ weekData: data, weekName: weekName });\n  };\n\n  render() {\n    if (!this.state.subjectData) {\n      return <div>No Subject Data</div>;\n    }\n\n    return (\n      <div>\n        <div className=\"row\" style={{ height: \"60px\" }}>\n          <SelectComponent\n            data={this.state.subjectData}\n            getWeekData={this.getDataFromComponent}\n          />\n        </div>\n        <div className=\"row\">\n          <Visual records={this.state.weekData} week={this.state.weekName} />\n        </div>\n      </div>\n    );\n  }\n}\nexport default VisualContainer;\n","import axios from \"axios\";\n\nexport default axios.create({\n  baseURL: \"http://localhost:8081\",\n});\n"],"sourceRoot":""}